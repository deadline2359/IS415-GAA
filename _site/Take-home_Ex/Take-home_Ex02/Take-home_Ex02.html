<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-02-13">

<title>Ailys’ IS415 Journey - Take-home Exercise 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Ailys’ IS415 Journey</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-On Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercises">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html">
 <span class="dropdown-text">Hands-on Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07.1/Hands-on_Ex07.1.html">
 <span class="dropdown-text">Hands-on Exercise 7.1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07.2/Hands-on_Ex07.2.html">
 <span class="dropdown-text">Hands-on Exercise 7.2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-class Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercises">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex02/In-class_Ex02.html">
 <span class="dropdown-text">In-class Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex03/In-class_Ex03.html">
 <span class="dropdown-text">In-class Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html">
 <span class="dropdown-text">In-class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html">
 <span class="dropdown-text">In-class Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex06/In-class_Ex06.html">
 <span class="dropdown-text">In-class Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex07/In-class_Ex07.html">
 <span class="dropdown-text">In-class Exercise 7</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-home Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercises">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#r-packages" id="toc-r-packages" class="nav-link active" data-scroll-target="#r-packages"><span class="toc-section-number">1</span>  R Packages</a></li>
  <li><a href="#importing" id="toc-importing" class="nav-link" data-scroll-target="#importing"><span class="toc-section-number">2</span>  Importing</a>
  <ul class="collapse">
  <li><a href="#aspatial-dataset" id="toc-aspatial-dataset" class="nav-link" data-scroll-target="#aspatial-dataset"><span class="toc-section-number">2.1</span>  Aspatial Dataset</a></li>
  <li><a href="#geospatial-dataset" id="toc-geospatial-dataset" class="nav-link" data-scroll-target="#geospatial-dataset"><span class="toc-section-number">2.2</span>  Geospatial Dataset</a></li>
  </ul></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation"><span class="toc-section-number">3</span>  Data Preparation</a>
  <ul class="collapse">
  <li><a href="#combine" id="toc-combine" class="nav-link" data-scroll-target="#combine"><span class="toc-section-number">3.1</span>  Combine</a></li>
  <li><a href="#create-monthly-vaccination-rate" id="toc-create-monthly-vaccination-rate" class="nav-link" data-scroll-target="#create-monthly-vaccination-rate"><span class="toc-section-number">3.2</span>  Create Monthly Vaccination Rate</a>
  <ul class="collapse">
  <li><a href="#calculate-monthly-vaccination-rate" id="toc-calculate-monthly-vaccination-rate" class="nav-link" data-scroll-target="#calculate-monthly-vaccination-rate"><span class="toc-section-number">3.2.1</span>  Calculate Monthly Vaccination Rate</a></li>
  </ul></li>
  <li><a href="#joining-of-geospatial-and-aspatial-datasets" id="toc-joining-of-geospatial-and-aspatial-datasets" class="nav-link" data-scroll-target="#joining-of-geospatial-and-aspatial-datasets"><span class="toc-section-number">3.3</span>  Joining of Geospatial and Aspatial Datasets</a></li>
  </ul></li>
  <li><a href="#visualisation-of-vaccination-rates" id="toc-visualisation-of-vaccination-rates" class="nav-link" data-scroll-target="#visualisation-of-vaccination-rates"><span class="toc-section-number">4</span>  Visualisation of Vaccination Rates</a></li>
  <li><a href="#local-gi-analysis" id="toc-local-gi-analysis" class="nav-link" data-scroll-target="#local-gi-analysis"><span class="toc-section-number">5</span>  Local Gi* Analysis</a></li>
  <li><a href="#emerging-hot-spot-analysisehsa" id="toc-emerging-hot-spot-analysisehsa" class="nav-link" data-scroll-target="#emerging-hot-spot-analysisehsa"><span class="toc-section-number">6</span>  Emerging Hot Spot Analysis(EHSA)</a></li>
  <li><a href="#deriving-centroid" id="toc-deriving-centroid" class="nav-link" data-scroll-target="#deriving-centroid"><span class="toc-section-number">7</span>  Deriving Centroid</a>
  <ul class="collapse">
  <li><a href="#determine-cut-off-distance" id="toc-determine-cut-off-distance" class="nav-link" data-scroll-target="#determine-cut-off-distance"><span class="toc-section-number">7.1</span>  Determine Cut-off Distance</a></li>
  <li><a href="#computing-gi-statistics" id="toc-computing-gi-statistics" class="nav-link" data-scroll-target="#computing-gi-statistics"><span class="toc-section-number">7.2</span>  Computing Gi statistics</a>
  <ul class="collapse">
  <li><a href="#jun-2022-2" id="toc-jun-2022-2" class="nav-link" data-scroll-target="#jun-2022-2"><span class="toc-section-number">7.2.1</span>  Jun 2022</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-home Exercise 2</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 13, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">February 27, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">
<style type="text/css">
.panel-tabset .nav-link {
  background-color: #a3d2e3;
  box-shadow: 8px 5px 5px darkgrey;
}

.panel-tabset .tab-content{
  box-shadow: 8px 5px 5px darkgrey;
}
</style>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Only import first or last of the month</p>
<p>A <strong><em>rukun tetangga</em></strong> (abbrievated <strong>RT</strong>, literally “pillar of neighbours”) is an administrative division of a village in <a href="https://en.wikipedia.org/wiki/Indonesia" title="Indonesia">Indonesia</a>, under a <a href="https://en.wikipedia.org/wiki/Rukun_warga" title="Rukun warga"><em>rukun warga</em></a>. The RT is the lowest administrative division of Indonesia.</p>
<ul>
<li><p>use lesson 6</p></li>
<li><p>use hot and cold spots</p></li>
</ul>
</div>
</div>
<section id="r-packages" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> R Packages</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(sf, sfdep, tmap, tidyverse, readxl, spdep, dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Importing</h1>
<section id="aspatial-dataset" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="aspatial-dataset"><span class="header-section-number">2.1</span> Aspatial Dataset</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Jul 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Aug 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Sep 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Oct 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false">Nov 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false">Dec 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-7" role="tab" aria-controls="tabset-1-7" aria-selected="false">Jan 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-8" role="tab" aria-controls="tabset-1-8" aria-selected="false">Feb 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-9" role="tab" aria-controls="tabset-1-9" aria-selected="false">Mar 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-10-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-10" role="tab" aria-controls="tabset-1-10" aria-selected="false">Apr 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-11-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-11" role="tab" aria-controls="tabset-1-11" aria-selected="false">Mei 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-12-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-12" role="tab" aria-controls="tabset-1-12" aria-selected="false">Jun 2022</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>jul2021 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (31 Juli 2021).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a>jul2021[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-07-31"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">head</span>(jul2021, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 28
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 4441501 4499710 1663218 6162928
2 3172051003     JAKART… PADEMA… ANCOL     23947   12333   11614    4181   15795
3 3173041007     JAKART… TAMBORA ANGKE     29381   13875   15506    4798   20304
4 3175041005     JAKART… KRAMAT… BALE K…   29074   18314   10760    3658   14418
5 3175031003     JAKART… JATINE… BALI M…    9752    5173    4579    2007    6586
# … with 19 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>aug2021 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (31 Agustus 2021).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a>aug2021[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-08-31"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="fu">head</span>(aug2021, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 28
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 3277484 5663727 3412906 9076633
2 3172051003     JAKART… PADEMA… ANCOL     23947    9191   14756    8935   23691
3 3173041007     JAKART… TAMBORA ANGKE     29381   10400   18981   10470   29451
4 3175041005     JAKART… KRAMAT… BALE K…   29074   12510   16564    7766   24330
5 3175031003     JAKART… JATINE… BALI M…    9752    3704    6048    3671    9719
# … with 19 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>sep2021 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (30 September 2021).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a>sep2021[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-09-30"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>sep2021[<span class="st">"Date"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 268 × 1
   Date      
   &lt;date&gt;    
 1 2021-09-30
 2 2021-09-30
 3 2021-09-30
 4 2021-09-30
 5 2021-09-30
 6 2021-09-30
 7 2021-09-30
 8 2021-09-30
 9 2021-09-30
10 2021-09-30
# … with 258 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">head</span>(sep2021, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 28
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 2235772 6705439 5171697  1.19e7
2 3172051003     JAKART… PADEMA… ANCOL     23947    6688   17259   13376  3.06e4
3 3173041007     JAKART… TAMBORA ANGKE     29381    7581   21800   16438  3.82e4
4 3175041005     JAKART… KRAMAT… BALE K…   29074    8708   20366   14412  3.48e4
5 3175031003     JAKART… JATINE… BALI M…    9752    2517    7235    5660  1.29e4
# … with 19 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>oct2021 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (31 Oktober 2021).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a>oct2021[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-10-31"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="fu">head</span>(oct2021, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 28
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 1880524 7060687 5729001  1.28e7
2 3172051003     JAKART… PADEMA… ANCOL     23947    5991   17956   14504  3.25e4
3 3173041007     JAKART… TAMBORA ANGKE     29381    6557   22824   18185  4.10e4
4 3175041005     JAKART… KRAMAT… BALE K…   29074    7586   21488   16444  3.79e4
5 3175031003     JAKART… JATINE… BALI M…    9752    2125    7627    6277  1.39e4
# … with 19 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>nov2021 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (30 November 2021).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb12-2"><a href="#cb12-2"></a>nov2021[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-11-30"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="fu">head</span>(nov2021, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 28
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 1723821 7217390 6172636  1.34e7
2 3172051003     JAKART… PADEMA… ANCOL     23947    5527   18420   15466  3.39e4
3 3173041007     JAKART… TAMBORA ANGKE     29381    5986   23395   19404  4.28e4
4 3175041005     JAKART… KRAMAT… BALE K…   29074    6802   22272   18084  4.04e4
5 3175031003     JAKART… JATINE… BALI M…    9752    1920    7832    6773  1.46e4
# … with 19 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>dec2021 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (31 Desember 2021).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb14-2"><a href="#cb14-2"></a>dec2021[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-12-31"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="fu">head</span>(dec2021, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 28
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 1623736 7317475 6370175  1.37e7
2 3172051003     JAKART… PADEMA… ANCOL     23947    5062   18885   15996  3.49e4
3 3173041007     JAKART… TAMBORA ANGKE     29381    5626   23755   20026  4.38e4
4 3175041005     JAKART… KRAMAT… BALE K…   29074    6335   22739   18925  4.17e4
5 3175031003     JAKART… JATINE… BALI M…    9752    1782    7970    7003  1.50e4
# … with 19 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-7-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>jan2022 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (31 Januari 2022).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb16-2"><a href="#cb16-2"></a>jan2022[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2022-01-31"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="fu">head</span>(jan2022, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 28
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 1538221 7402990 6516678  1.39e7
2 3172051003     JAKART… PADEMA… ANCOL     23947    4647   19300   16477  3.58e4
3 3173041007     JAKART… TAMBORA ANGKE     29381    5388   23993   20463  4.45e4
4 3175041005     JAKART… KRAMAT… BALE K…   29074    5967   23107   19468  4.26e4
5 3175031003     JAKART… JATINE… BALI M…    9752    1678    8074    7176  1.52e4
# … with 19 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-8-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>feb2022 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (27 Februari 2022).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a>feb2022[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2022-02-27"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="fu">head</span>(feb2022, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 28
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 1517196 7424015 6590380  1.40e7
2 3172051003     JAKART… PADEMA… ANCOL     23947    4592   19355   16687  3.60e4
3 3173041007     JAKART… TAMBORA ANGKE     29381    5319   24062   20738  4.48e4
4 3175041005     JAKART… KRAMAT… BALE K…   29074    5903   23171   19754  4.29e4
5 3175031003     JAKART… JATINE… BALI M…    9752    1649    8103    7245  1.53e4
# … with 19 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-9-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>mar2022 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (31 Maret 2022).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb20-2"><a href="#cb20-2"></a>mar2022[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2022-03-31"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="fu">head</span>(mar2022, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 35
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ JUMLA…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 1482471 7458740 6682911 1836511
2 3172051003     JAKART… PADEMA… ANCOL     23947    4522   19425   16909    3934
3 3173041007     JAKART… TAMBORA ANGKE     29381    5186   24195   21000    6122
4 3175041005     JAKART… KRAMAT… BALE K…   29074    5780   23294   20123    4124
5 3175031003     JAKART… JATINE… BALI M…    9752    1621    8131    7332    2159
# … with 26 more variables: `TOTAL VAKSIN\r\nDIBERIKAN` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 1` &lt;dbl&gt;, `LANSIA\r\nDOSIS 2` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 3` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 3` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-10" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-10-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>apr2022 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (30 April 2022).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb22-2"><a href="#cb22-2"></a>apr2022[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2022-04-30"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="fu">head</span>(apr2022, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 35
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ JUMLA…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 1453423 7487788 6727002 2720796
2 3172051003     JAKART… PADEMA… ANCOL     23947    4449   19498   17027    6568
3 3173041007     JAKART… TAMBORA ANGKE     29381    5101   24280   21134    8915
4 3175041005     JAKART… KRAMAT… BALE K…   29074    5699   23375   20315    6491
5 3175031003     JAKART… JATINE… BALI M…    9752    1598    8154    7395    3225
# … with 26 more variables: `TOTAL VAKSIN\r\nDIBERIKAN` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 1` &lt;dbl&gt;, `LANSIA\r\nDOSIS 2` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 3` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 3` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-11" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-11-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>may2022 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (31 Mei 2022).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb24-2"><a href="#cb24-2"></a>may2022[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2022-05-31"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="fu">head</span>(may2022, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 35
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ JUMLA…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 1445540 7495671 6743764 2885301
2 3172051003     JAKART… PADEMA… ANCOL     23947    4440   19507   17077    7022
3 3173041007     JAKART… TAMBORA ANGKE     29381    5084   24297   21182    9484
4 3175041005     JAKART… KRAMAT… BALE K…   29074    5676   23398   20373    7030
5 3175031003     JAKART… JATINE… BALI M…    9752    1589    8163    7413    3413
# … with 26 more variables: `TOTAL VAKSIN\r\nDIBERIKAN` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 1` &lt;dbl&gt;, `LANSIA\r\nDOSIS 2` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 3` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 3` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-12" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-12-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>jun2022 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Data Vaksinasi Berbasis Kelurahan (30 Juni 2022).xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Data Kelurahan"</span>)</span>
<span id="cb26-2"><a href="#cb26-2"></a>jun2022[<span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2022-06-30"</span>, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="fu">head</span>(jun2022, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 35
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ JUMLA…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    TOTAL   8941211 1431393 7509818 6756584 3031594
2 3172051003     JAKART… PADEMA… ANCOL     23947    4402   19545   17106    7369
3 3173041007     JAKART… TAMBORA ANGKE     29381    5041   24340   21213   10086
4 3175041005     JAKART… KRAMAT… BALE K…   29074    5632   23442   20416    7398
5 3175031003     JAKART… JATINE… BALI M…    9752    1576    8176    7427    3602
# … with 26 more variables: `TOTAL VAKSIN\r\nDIBERIKAN` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 1` &lt;dbl&gt;, `LANSIA\r\nDOSIS 2` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 3` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 3` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="geospatial-dataset" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="geospatial-dataset"><span class="header-section-number">2.2</span> Geospatial Dataset</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Importing</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Dataset</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>The EPSG code for Indonesia is 23845.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>jakarta_boundary <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="st">"data/geospatial"</span>, </span>
<span id="cb28-2"><a href="#cb28-2"></a>                 <span class="at">layer =</span> <span class="st">"BATAS_DESA_DESEMBER_2019_DUKCAPIL_DKI_JAKARTA"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>))<span class="sc">%&gt;%</span>  </span>
<span id="cb28-4"><a href="#cb28-4"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb28-5"><a href="#cb28-5"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(KAB_KOTA <span class="sc">!=</span> <span class="st">"KEPULAUAN SERIBU"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `BATAS_DESA_DESEMBER_2019_DUKCAPIL_DKI_JAKARTA' from data source 
  `C:\deadline2359\IS415-GAA\Take-home_Ex\Take-home_Ex02\data\geospatial' 
  using driver `ESRI Shapefile'
Simple feature collection with 269 features and 161 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 106.3831 ymin: -6.370815 xmax: 106.9728 ymax: -5.184322
Geodetic CRS:  WGS 84</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>jakarta_boundary<span class="sc">$</span>geometry</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Geometry set for 261 features 
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 106.6862 ymin: -6.370815 xmax: 106.9728 ymax: -6.089036
Geodetic CRS:  WGS 84
First 5 geometries:</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">head</span>(jakarta_boundary, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 5 features and 9 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 106.8105 ymin: -6.17575 xmax: 106.8711 ymax: -6.141043
Geodetic CRS:  WGS 84
  OBJECT_ID  KODE_DESA          DESA   KODE    PROVINSI      KAB_KOTA
1     25477 3173031006     KEAGUNGAN 317303 DKI JAKARTA JAKARTA BARAT
2     25478 3173031007        GLODOK 317303 DKI JAKARTA JAKARTA BARAT
3     25397 3171031003 HARAPAN MULIA 317103 DKI JAKARTA JAKARTA PUSAT
4     25400 3171031006  CEMPAKA BARU 317103 DKI JAKARTA JAKARTA PUSAT
5     25390 3171021001    PASAR BARU 317102 DKI JAKARTA JAKARTA PUSAT
    KECAMATAN    DESA_KELUR JUMLAH_PEN                       geometry
1  TAMAN SARI     KEAGUNGAN      21609 MULTIPOLYGON (((106.8164 -6...
2  TAMAN SARI        GLODOK       9069 MULTIPOLYGON (((106.8148 -6...
3   KEMAYORAN HARAPAN MULIA      29085 MULTIPOLYGON (((106.8576 -6...
4   KEMAYORAN  CEMPAKA BARU      41913 MULTIPOLYGON (((106.8631 -6...
5 SAWAH BESAR    PASAR BARU      15793 MULTIPOLYGON (((106.8369 -6...</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="data-preparation" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Data Preparation</h1>
<section id="combine" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="combine"><span class="header-section-number">3.1</span> Combine</h2>
<p>You may realise that the dataframes from the months March to June in 2022 have 35 columns in total. Whereas the months before have only 28. Note that all dataframes have been added an additional one “date” column stating their month.</p>
<p>Since we will not have any data on these extra 7 columns, we will pick out find the common 28 columns and slice the dataframes before combining all together.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Combining Months</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>column_name28 <span class="ot">&lt;-</span> <span class="fu">names</span>(jul2021)</span>
<span id="cb34-2"><a href="#cb34-2"></a>column_name35 <span class="ot">&lt;-</span> <span class="fu">names</span>(jun2022)</span>
<span id="cb34-3"><a href="#cb34-3"></a>overlapped_cols <span class="ot">=</span> <span class="fu">intersect</span>(column_name28, column_name35)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>vaccine_months_list <span class="ot">&lt;-</span> <span class="fu">list</span>(jul2021, aug2021, sep2021, oct2021, nov2021, dec2021, jan2022, feb2022, mar2022, apr2022, may2022, jun2022)</span>
<span id="cb35-2"><a href="#cb35-2"></a></span>
<span id="cb35-3"><a href="#cb35-3"></a>vaccine_months <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb35-4"><a href="#cb35-4"></a></span>
<span id="cb35-5"><a href="#cb35-5"></a><span class="cf">for</span> (month <span class="cf">in</span> vaccine_months_list) {</span>
<span id="cb35-6"><a href="#cb35-6"></a>  vaccine_months <span class="ot">&lt;-</span> <span class="fu">rbind</span>(vaccine_months, month[<span class="dv">2</span><span class="sc">:</span><span class="fu">nrow</span>(month),overlapped_cols])</span>
<span id="cb35-7"><a href="#cb35-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">head</span>(vaccine_months, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 28
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 3172051003     JAKART… PADEMA… ANCOL     23947   12333   11614    4181   15795
2 3173041007     JAKART… TAMBORA ANGKE     29381   13875   15506    4798   20304
3 3175041005     JAKART… KRAMAT… BALE K…   29074   18314   10760    3658   14418
4 3175031003     JAKART… JATINE… BALI M…    9752    5173    4579    2007    6586
5 3175101006     JAKART… CIPAYU… BAMBU …   26285   13775   12510    5206   17716
# … with 19 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Considering that the columns are in Bahasa Indonesia, you may want to check out the translations to better understand the process.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Translations of Column Names
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<table class="table">
<colgroup>
<col style="width: 51%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th>Bahasa Indonesia</th>
<th style="text-align: right;">English</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Kode Kelurahan</td>
<td style="text-align: right;">Sub-district Code</td>
</tr>
<tr class="even">
<td>Wilayah Kota</td>
<td style="text-align: right;">City Area</td>
</tr>
<tr class="odd">
<td>Kecamatan</td>
<td style="text-align: right;">Sub-district</td>
</tr>
<tr class="even">
<td>Sasaran</td>
<td style="text-align: right;">Target</td>
</tr>
<tr class="odd">
<td>Belum Vaksin</td>
<td style="text-align: right;">Yet to be Vaccinated</td>
</tr>
<tr class="even">
<td>Jumlah Dosis 1</td>
<td style="text-align: right;">Number of Dosage 1</td>
</tr>
<tr class="odd">
<td>Jumlah Dosis 2</td>
<td style="text-align: right;">Number of Dosage 2</td>
</tr>
<tr class="even">
<td>Total Vaksin Diberikan</td>
<td style="text-align: right;">Total Vaccines Given</td>
</tr>
<tr class="odd">
<td>Lansia Dosis 1</td>
<td style="text-align: right;">Elderly Dosage 1</td>
</tr>
<tr class="even">
<td>Lansia Dosis 2</td>
<td style="text-align: right;">Elderly Dosage 2</td>
</tr>
<tr class="odd">
<td>Lansia Total Vaksin Diberikan</td>
<td style="text-align: right;">Total Elderly Vaccine Given</td>
</tr>
<tr class="even">
<td>Pelayan Publik Dosis 1</td>
<td style="text-align: right;">Public Servant Dosage 1</td>
</tr>
<tr class="odd">
<td>Pelayan Publik Dosis 2</td>
<td style="text-align: right;">Public Servant Dosage 2</td>
</tr>
<tr class="even">
<td>Pelayan Publik Total Vaksin Diberikan</td>
<td style="text-align: right;">Total Public Servant Vaccine Given</td>
</tr>
<tr class="odd">
<td>Gotong Royong Dosis 1</td>
<td style="text-align: right;">Mutual Aid Dosage 1</td>
</tr>
<tr class="even">
<td>Gotong Royong Dosis 2</td>
<td style="text-align: right;">Mutual Aid Dosage 2</td>
</tr>
<tr class="odd">
<td>Gotong Royong Total Vaksin Diberikan</td>
<td style="text-align: right;">Total Mutual Aid Vaccine Given</td>
</tr>
<tr class="even">
<td>Tenaga Kesehatan Dosis 1</td>
<td style="text-align: right;">Health Workers Dosage 1</td>
</tr>
<tr class="odd">
<td>Tenaga Kesehatan Dosis 2</td>
<td style="text-align: right;">Health Workers Dosage 2</td>
</tr>
<tr class="even">
<td>Tenaga Kesehatan Total Vaksin Diberikan</td>
<td style="text-align: right;">Total Health Workers Vaccine Given</td>
</tr>
<tr class="odd">
<td>Tahapan 3 Dosis 1</td>
<td style="text-align: right;">Stage 3 Dosage 1</td>
</tr>
<tr class="even">
<td>Tahapan 3 Dosis 2</td>
<td style="text-align: right;">Stage 3 Dosage 2</td>
</tr>
<tr class="odd">
<td>Tahapan 3 Total Vaksin Diberikan</td>
<td style="text-align: right;">Total Stage 3 Vaccine Given</td>
</tr>
<tr class="even">
<td>Remaja Dosis 1</td>
<td style="text-align: right;">Teenager Dosage 1</td>
</tr>
<tr class="odd">
<td>Remaja Dosis 2</td>
<td style="text-align: right;">Teenager Dosage 2</td>
</tr>
<tr class="even">
<td>Remaja Total Vaksin Diberikan</td>
<td style="text-align: right;">Total Teenager Vaccine Given</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="create-monthly-vaccination-rate" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="create-monthly-vaccination-rate"><span class="header-section-number">3.2</span> Create Monthly Vaccination Rate</h2>
<p>There is a total of 267 kelurahan or urban villages in the Special Capital Region of Jakarta.</p>
<p><span class="math display">\[
267kelurahan \times 12 months = 3204
\]</span></p>
<p>We can tell that we have the correct number of rows in our final dataframe, <em>vaccine_months</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">nrow</span>(vaccine_months)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3204</code></pre>
</div>
</div>
<section id="calculate-monthly-vaccination-rate" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="calculate-monthly-vaccination-rate"><span class="header-section-number">3.2.1</span> Calculate Monthly Vaccination Rate</h3>
<p>We will need to create a column with the vaccination rates of each village in order to map a choropleth map.</p>
<p>Since <em>“Sasaran”</em> is the target number of vaccinations provided and <em>“Belum Vaksin”</em> tells of the number of people not yet vaccinated, we can derive vaccination rates of each month.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>vaccine_months[<span class="st">"vaccination rate"</span>] <span class="ot">&lt;-</span> (vaccine_months[<span class="st">"SASARAN"</span>] <span class="sc">-</span> vaccine_months[<span class="st">"BELUM VAKSIN"</span>])<span class="sc">/</span>vaccine_months[<span class="st">"SASARAN"</span>] <span class="sc">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="joining-of-geospatial-and-aspatial-datasets" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="joining-of-geospatial-and-aspatial-datasets"><span class="header-section-number">3.3</span> Joining of Geospatial and Aspatial Datasets</h2>
<p>As mentioned we want to visualise the vaccination rates on the map Of Jakarta, this will require us to join the two existing dataframes in order to have a complete dataframe for the map.</p>
<p>We will join the two dataframes using “KELURAHAN” in <em>vaccine_months</em> and “DESA” in <em>jakarta_boundary</em>, both meaning village.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>jakarta <span class="ot">&lt;-</span> <span class="fu">left_join</span>(vaccine_months, jakarta_boundary, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"KODE KELURAHAN"</span><span class="ot">=</span><span class="st">"KODE_DESA"</span>))</span>
<span id="cb41-2"><a href="#cb41-2"></a></span>
<span id="cb41-3"><a href="#cb41-3"></a>jakarta <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(jakarta[jakarta[<span class="st">"KAB_KOTA"</span>] <span class="sc">!=</span> (<span class="st">"KEPULAUAN SERIBU"</span>), ])</span>
<span id="cb41-4"><a href="#cb41-4"></a></span>
<span id="cb41-5"><a href="#cb41-5"></a><span class="fu">head</span>(jakarta, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 38
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 3172051003     JAKART… PADEMA… ANCOL     23947   12333   11614    4181   15795
2 3173041007     JAKART… TAMBORA ANGKE     29381   13875   15506    4798   20304
3 3175041005     JAKART… KRAMAT… BALE K…   29074   18314   10760    3658   14418
4 3175031003     JAKART… JATINE… BALI M…    9752    5173    4579    2007    6586
5 3175101006     JAKART… CIPAYU… BAMBU …   26285   13775   12510    5206   17716
# … with 29 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
</section>
<section id="visualisation-of-vaccination-rates" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Visualisation of Vaccination Rates</h1>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Jul 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Aug 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Sep 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">Oct 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-5" role="tab" aria-controls="tabset-4-5" aria-selected="false">Nov 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-6" role="tab" aria-controls="tabset-4-6" aria-selected="false">Dec 2021</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-7" role="tab" aria-controls="tabset-4-7" aria-selected="false">Jan 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-8" role="tab" aria-controls="tabset-4-8" aria-selected="false">Feb 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-9" role="tab" aria-controls="tabset-4-9" aria-selected="false">Mar 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-10-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-10" role="tab" aria-controls="tabset-4-10" aria-selected="false">Apr 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-11-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-11" role="tab" aria-controls="tabset-4-11" aria-selected="false">May 2022</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-12-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-12" role="tab" aria-controls="tabset-4-12" aria-selected="false">Jun 2022</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>jul21_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2021-07-31"</span>,])</span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">tm_shape</span>(jul21_vaccination_rate) <span class="sc">+</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb43-4"><a href="#cb43-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb43-5"><a href="#cb43-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb43-7"><a href="#cb43-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (July 2021)"</span>,</span>
<span id="cb43-8"><a href="#cb43-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb43-9"><a href="#cb43-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>aug21_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2021-08-31"</span>,])</span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="fu">tm_shape</span>(aug21_vaccination_rate) <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb44-4"><a href="#cb44-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb44-5"><a href="#cb44-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb44-6"><a href="#cb44-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb44-7"><a href="#cb44-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (August 2021)"</span>,</span>
<span id="cb44-8"><a href="#cb44-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb44-9"><a href="#cb44-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>sep21_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2021-09-30"</span>,])</span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="fu">tm_shape</span>(sep21_vaccination_rate) <span class="sc">+</span></span>
<span id="cb45-3"><a href="#cb45-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb45-4"><a href="#cb45-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb45-5"><a href="#cb45-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb45-6"><a href="#cb45-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb45-7"><a href="#cb45-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (September 2021)"</span>,</span>
<span id="cb45-8"><a href="#cb45-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb45-9"><a href="#cb45-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>oct21_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2021-10-31"</span>,])</span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="fu">tm_shape</span>(oct21_vaccination_rate) <span class="sc">+</span></span>
<span id="cb46-3"><a href="#cb46-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb46-4"><a href="#cb46-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb46-5"><a href="#cb46-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb46-6"><a href="#cb46-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb46-7"><a href="#cb46-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (October 2021)"</span>,</span>
<span id="cb46-8"><a href="#cb46-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb46-9"><a href="#cb46-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-5-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>nov21_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2021-11-30"</span>,])</span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="fu">tm_shape</span>(nov21_vaccination_rate) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb47-4"><a href="#cb47-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb47-5"><a href="#cb47-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb47-6"><a href="#cb47-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb47-7"><a href="#cb47-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (November 2021)"</span>,</span>
<span id="cb47-8"><a href="#cb47-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb47-9"><a href="#cb47-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-6-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>dec21_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2021-12-31"</span>,])</span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="fu">tm_shape</span>(dec21_vaccination_rate) <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb48-4"><a href="#cb48-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb48-5"><a href="#cb48-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb48-6"><a href="#cb48-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb48-7"><a href="#cb48-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (December 2021)"</span>,</span>
<span id="cb48-8"><a href="#cb48-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb48-9"><a href="#cb48-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-7-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>jan22_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2022-01-31"</span>,])</span>
<span id="cb49-2"><a href="#cb49-2"></a><span class="fu">tm_shape</span>(jan22_vaccination_rate) <span class="sc">+</span></span>
<span id="cb49-3"><a href="#cb49-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb49-4"><a href="#cb49-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb49-5"><a href="#cb49-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb49-6"><a href="#cb49-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb49-7"><a href="#cb49-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (January 2022)"</span>,</span>
<span id="cb49-8"><a href="#cb49-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb49-9"><a href="#cb49-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-8-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>feb22_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2022-02-27"</span>,])</span>
<span id="cb50-2"><a href="#cb50-2"></a><span class="fu">tm_shape</span>(feb22_vaccination_rate) <span class="sc">+</span></span>
<span id="cb50-3"><a href="#cb50-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb50-4"><a href="#cb50-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb50-5"><a href="#cb50-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb50-6"><a href="#cb50-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb50-7"><a href="#cb50-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (February 2022)"</span>,</span>
<span id="cb50-8"><a href="#cb50-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb50-9"><a href="#cb50-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-9-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>mar22_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2022-03-31"</span>,])</span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="fu">tm_shape</span>(mar22_vaccination_rate) <span class="sc">+</span></span>
<span id="cb51-3"><a href="#cb51-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb51-4"><a href="#cb51-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb51-5"><a href="#cb51-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb51-6"><a href="#cb51-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb51-7"><a href="#cb51-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (March 2022)"</span>,</span>
<span id="cb51-8"><a href="#cb51-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb51-9"><a href="#cb51-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-10" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-10-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>apr22_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2022-04-30"</span>,])</span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="fu">tm_shape</span>(apr22_vaccination_rate) <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb52-4"><a href="#cb52-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb52-5"><a href="#cb52-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb52-6"><a href="#cb52-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb52-7"><a href="#cb52-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (April 2022)"</span>,</span>
<span id="cb52-8"><a href="#cb52-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb52-9"><a href="#cb52-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-11" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-11-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>may22_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2022-05-31"</span>,])</span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="fu">tm_shape</span>(may22_vaccination_rate) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb53-4"><a href="#cb53-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb53-5"><a href="#cb53-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb53-6"><a href="#cb53-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb53-7"><a href="#cb53-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (May 2022)"</span>,</span>
<span id="cb53-8"><a href="#cb53-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb53-9"><a href="#cb53-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-12" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-12-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>jun22_vaccination_rate <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta[jakarta<span class="sc">$</span><span class="st">"Date"</span> <span class="sc">==</span> <span class="st">"2022-06-30"</span>,])</span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="fu">tm_shape</span>(jun22_vaccination_rate) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="fu">tm_fill</span>(<span class="st">"vaccination rate"</span>,</span>
<span id="cb54-4"><a href="#cb54-4"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb54-5"><a href="#cb54-5"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>) <span class="sc">+</span></span>
<span id="cb54-6"><a href="#cb54-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb54-7"><a href="#cb54-7"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Vaccination Rates in Jakarta (June 2022)"</span>,</span>
<span id="cb54-8"><a href="#cb54-8"></a>            <span class="at">main.title.size =</span> <span class="fl">1.10</span>,</span>
<span id="cb54-9"><a href="#cb54-9"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="local-gi-analysis" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Local Gi* Analysis</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>wm_idw <span class="ot">&lt;-</span> jun22_vaccination_rate <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>  <span class="fu">mutate</span>(<span class="at">nb =</span> <span class="fu">st_contiguity</span>(geometry),</span>
<span id="cb55-3"><a href="#cb55-3"></a>         <span class="at">wts =</span> <span class="fu">st_inverse_distance</span>(nb, geometry,</span>
<span id="cb55-4"><a href="#cb55-4"></a>                                   <span class="at">scale =</span> <span class="dv">1</span>,</span>
<span id="cb55-5"><a href="#cb55-5"></a>                                   <span class="at">alpha =</span> <span class="dv">1</span>),</span>
<span id="cb55-6"><a href="#cb55-6"></a>         <span class="at">.before =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>HCSA <span class="ot">&lt;-</span> wm_idw <span class="sc">%&gt;%</span> </span>
<span id="cb56-2"><a href="#cb56-2"></a>  <span class="fu">mutate</span>(<span class="at">local_Gi =</span> <span class="fu">local_gstar_perm</span>(</span>
<span id="cb56-3"><a href="#cb56-3"></a>    <span class="st">`</span><span class="at">vaccination rate</span><span class="st">`</span>, nb, wt, <span class="at">nsim =</span> <span class="dv">99</span>),</span>
<span id="cb56-4"><a href="#cb56-4"></a>         <span class="at">.before =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb56-5"><a href="#cb56-5"></a>  <span class="fu">unnest</span>(local_Gi)</span>
<span id="cb56-6"><a href="#cb56-6"></a></span>
<span id="cb56-7"><a href="#cb56-7"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb56-8"><a href="#cb56-8"></a>map1 <span class="ot">&lt;-</span> <span class="fu">tm_shape</span>(HCSA) <span class="sc">+</span></span>
<span id="cb56-9"><a href="#cb56-9"></a>  <span class="fu">tm_fill</span>(<span class="st">"gi_star"</span>) <span class="sc">+</span> </span>
<span id="cb56-10"><a href="#cb56-10"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb56-11"><a href="#cb56-11"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Gi* of GDPPC"</span>,</span>
<span id="cb56-12"><a href="#cb56-12"></a>            <span class="at">main.title.size =</span> <span class="fl">0.8</span>)</span>
<span id="cb56-13"><a href="#cb56-13"></a></span>
<span id="cb56-14"><a href="#cb56-14"></a>map2 <span class="ot">&lt;-</span> <span class="fu">tm_shape</span>(HCSA) <span class="sc">+</span></span>
<span id="cb56-15"><a href="#cb56-15"></a>  <span class="fu">tm_fill</span>(<span class="st">"p_value"</span>,</span>
<span id="cb56-16"><a href="#cb56-16"></a>          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.001</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span>, <span class="dv">1</span>),</span>
<span id="cb56-17"><a href="#cb56-17"></a>              <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0.001"</span>, <span class="st">"0.01"</span>, <span class="st">"0.05"</span>, <span class="st">"Not sig"</span>)) <span class="sc">+</span> </span>
<span id="cb56-18"><a href="#cb56-18"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb56-19"><a href="#cb56-19"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"p-value of Gi*"</span>,</span>
<span id="cb56-20"><a href="#cb56-20"></a>            <span class="at">main.title.size =</span> <span class="fl">0.8</span>)</span>
<span id="cb56-21"><a href="#cb56-21"></a></span>
<span id="cb56-22"><a href="#cb56-22"></a><span class="fu">tmap_arrange</span>(map1, map2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>HCSA_sig <span class="ot">&lt;-</span> HCSA  <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="fu">filter</span>(p_sim <span class="sc">&lt;</span> <span class="fl">0.05</span>)</span>
<span id="cb57-3"><a href="#cb57-3"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb57-4"><a href="#cb57-4"></a><span class="fu">tm_shape</span>(HCSA) <span class="sc">+</span></span>
<span id="cb57-5"><a href="#cb57-5"></a>  <span class="fu">tm_polygons</span>() <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb57-7"><a href="#cb57-7"></a><span class="fu">tm_shape</span>(HCSA_sig) <span class="sc">+</span></span>
<span id="cb57-8"><a href="#cb57-8"></a>  <span class="fu">tm_fill</span>(<span class="st">"gi_star"</span>) <span class="sc">+</span> </span>
<span id="cb57-9"><a href="#cb57-9"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="emerging-hot-spot-analysisehsa" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Emerging Hot Spot Analysis(EHSA)</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">colnames</span>(jakarta_boundary)[<span class="fu">colnames</span>(jakarta_boundary) <span class="sc">==</span> <span class="st">"KODE_DESA"</span>] <span class="ot">=</span><span class="st">"KODE KELURAHAN"</span></span>
<span id="cb58-2"><a href="#cb58-2"></a></span>
<span id="cb58-3"><a href="#cb58-3"></a>jakarta_st <span class="ot">&lt;-</span> <span class="fu">spacetime</span>(<span class="at">.data=</span>jakarta, <span class="at">.geometry=</span>jakarta_boundary,</span>
<span id="cb58-4"><a href="#cb58-4"></a>                      <span class="at">.loc_col =</span> <span class="st">"KODE KELURAHAN"</span>,</span>
<span id="cb58-5"><a href="#cb58-5"></a>                      <span class="at">.time_col =</span> <span class="st">"Date"</span>)</span>
<span id="cb58-6"><a href="#cb58-6"></a></span>
<span id="cb58-7"><a href="#cb58-7"></a><span class="fu">is_spacetime_cube</span>(jakarta_st)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>jakarta_nb <span class="ot">&lt;-</span> jakarta_st <span class="sc">%&gt;%</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>  <span class="fu">activate</span>(<span class="st">"geometry"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="fu">mutate</span>(<span class="at">nb =</span> <span class="fu">include_self</span>(<span class="fu">st_contiguity</span>(geometry)),</span>
<span id="cb60-4"><a href="#cb60-4"></a>         <span class="at">wt =</span> <span class="fu">st_inverse_distance</span>(nb, geometry,</span>
<span id="cb60-5"><a href="#cb60-5"></a>                                  <span class="at">scale =</span> <span class="dv">1</span>,</span>
<span id="cb60-6"><a href="#cb60-6"></a>                                  <span class="at">alpha =</span> <span class="dv">1</span>),</span>
<span id="cb60-7"><a href="#cb60-7"></a>         <span class="at">.before =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-8"><a href="#cb60-8"></a>  <span class="fu">set_nbs</span>(<span class="st">"nb"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-9"><a href="#cb60-9"></a>  <span class="fu">set_wts</span>(<span class="st">"wt"</span>)</span>
<span id="cb60-10"><a href="#cb60-10"></a><span class="fu">head</span>(jakarta_nb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 40
  KODE KELURAH…¹ WILAY…² KECAM…³ KELUR…⁴ SASARAN BELUM…⁵ JUMLA…⁶ JUMLA…⁷ TOTAL…⁸
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 3173031006     JAKART… TAMAN … KEAGUN…   17387    8126    9261    3231   12492
2 3173031007     JAKART… TAMAN … GLODOK     7837    3006    4831    2602    7433
3 3171031003     JAKART… KEMAYO… HARAPA…   22557   11339   11218    3930   15148
4 3171031006     JAKART… KEMAYO… CEMPAK…   32581   17361   15220    5541   20761
5 3171021001     JAKART… SAWAH … PASAR …   12035    4899    7136    3397   10533
6 3171021002     JAKART… SAWAH … KARANG…   25761   12303   13458    4699   18157
# … with 31 more variables: `LANSIA\r\nDOSIS 1` &lt;dbl&gt;,
#   `LANSIA\r\nDOSIS 2` &lt;dbl&gt;, `LANSIA TOTAL \r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `PELAYAN PUBLIK\r\nDOSIS 1` &lt;dbl&gt;, `PELAYAN PUBLIK\r\nDOSIS 2` &lt;dbl&gt;,
#   `PELAYAN PUBLIK TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `GOTONG ROYONG\r\nDOSIS 1` &lt;dbl&gt;, `GOTONG ROYONG\r\nDOSIS 2` &lt;dbl&gt;,
#   `GOTONG ROYONG TOTAL\r\nVAKSIN DIBERIKAN` &lt;dbl&gt;,
#   `TENAGA KESEHATAN\r\nDOSIS 1` &lt;dbl&gt;, `TENAGA KESEHATAN\r\nDOSIS 2` &lt;dbl&gt;, …</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>gi_stars <span class="ot">&lt;-</span> jakarta_nb <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="#cb62-2"></a>  <span class="fu">group_by</span>(Date) <span class="sc">%&gt;%</span> </span>
<span id="cb62-3"><a href="#cb62-3"></a>  <span class="fu">mutate</span>(<span class="at">gi_star =</span> <span class="fu">local_gstar_perm</span>(</span>
<span id="cb62-4"><a href="#cb62-4"></a>    <span class="st">`</span><span class="at">vaccination rate</span><span class="st">`</span>, nb, wt)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-5"><a href="#cb62-5"></a>  tidyr<span class="sc">::</span><span class="fu">unnest</span>(gi_star)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="deriving-centroid" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Deriving Centroid</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="co"># jakarta_clean_boundary &lt;- jakarta_boundary %&gt;%  </span></span>
<span id="cb63-2"><a href="#cb63-2"></a><span class="co">#   na.omit() %&gt;% </span></span>
<span id="cb63-3"><a href="#cb63-3"></a><span class="co">#   dplyr::filter(KAB_KOTA != "KEPULAUAN SERIBU")</span></span>
<span id="cb63-4"><a href="#cb63-4"></a><span class="co"># </span></span>
<span id="cb63-5"><a href="#cb63-5"></a><span class="co"># longitude &lt;- map_dbl(jakarta_clean_boundary$geometry, ~st_centroid(.x)[[1]])</span></span>
<span id="cb63-6"><a href="#cb63-6"></a><span class="co"># </span></span>
<span id="cb63-7"><a href="#cb63-7"></a><span class="co"># latitude &lt;- map_dbl(jakarta_clean_boundary$geometry, ~st_centroid(.x)[[2]])</span></span>
<span id="cb63-8"><a href="#cb63-8"></a><span class="co"># </span></span>
<span id="cb63-9"><a href="#cb63-9"></a><span class="co"># coords &lt;- cbind(longitude, latitude)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="determine-cut-off-distance" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="determine-cut-off-distance"><span class="header-section-number">7.1</span> Determine Cut-off Distance</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="co"># k1 &lt;- knn2nb(knearneigh(coords))</span></span>
<span id="cb64-2"><a href="#cb64-2"></a><span class="co"># k1dists &lt;- unlist(nbdists(k1, coords, longlat = TRUE))</span></span>
<span id="cb64-3"><a href="#cb64-3"></a><span class="co"># summary(k1dists)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The report shows that the furthest first nearest neighbour distance is 2.9152 km, so using this as the upper threshold gives certainty that all units will have at least one neighbour.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="co"># knn &lt;- knn2nb(knearneigh(coords, k=8))</span></span>
<span id="cb65-2"><a href="#cb65-2"></a><span class="co"># knn</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="co"># knn_lw &lt;- nb2listw(knn, style = 'B')</span></span>
<span id="cb66-2"><a href="#cb66-2"></a><span class="co"># summary(knn_lw)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="computing-gi-statistics" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="computing-gi-statistics"><span class="header-section-number">7.2</span> Computing Gi statistics</h2>
<section id="jun-2022-2" class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="jun-2022-2"><span class="header-section-number">7.2.1</span> Jun 2022</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="co"># fips &lt;- order(jakarta$KELURAHAN)</span></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="co"># gi.adaptive &lt;- localG(jun22_vaccination_rate$`vaccination rate`, knn_lw)</span></span>
<span id="cb67-3"><a href="#cb67-3"></a><span class="co"># jun22_vaccination_rate.gi &lt;- cbind(jun22_vaccination_rate, as.matrix(gi.adaptive)) %&gt;%</span></span>
<span id="cb67-4"><a href="#cb67-4"></a><span class="co">#   rename(gstat_adaptive = as.matrix.gi.adaptive.)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="co"># vaccination_rate_qtm&lt;- qtm(jun22_vaccination_rate, "vaccination rate")</span></span>
<span id="cb68-2"><a href="#cb68-2"></a><span class="co"># </span></span>
<span id="cb68-3"><a href="#cb68-3"></a><span class="co"># Gimap &lt;- tm_shape(jun22_vaccination_rate.gi) + </span></span>
<span id="cb68-4"><a href="#cb68-4"></a><span class="co">#   tm_fill(col = "gstat_adaptive", </span></span>
<span id="cb68-5"><a href="#cb68-5"></a><span class="co">#           style = "pretty", </span></span>
<span id="cb68-6"><a href="#cb68-6"></a><span class="co">#           palette="-RdBu", </span></span>
<span id="cb68-7"><a href="#cb68-7"></a><span class="co">#           title = "local Gi") + </span></span>
<span id="cb68-8"><a href="#cb68-8"></a><span class="co">#   tm_borders(alpha = 0.5)</span></span>
<span id="cb68-9"><a href="#cb68-9"></a><span class="co"># </span></span>
<span id="cb68-10"><a href="#cb68-10"></a><span class="co"># tmap_arrange(vaccination_rate_qtm, </span></span>
<span id="cb68-11"><a href="#cb68-11"></a><span class="co">#              Gimap, </span></span>
<span id="cb68-12"><a href="#cb68-12"></a><span class="co">#              asp=1, </span></span>
<span id="cb68-13"><a href="#cb68-13"></a><span class="co">#              ncol=2)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>